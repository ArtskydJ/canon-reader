<:Head>
	<title>Canon Reader</title>
</:Head>

<uiView></uiView>

{{#if showReferenceSearch}}
<div class="search-container">
	<ReferenceSearch bind:show="showReferenceSearch" :mediator :currentBookId />
</div>
{{/if}}

<style>
.search-container {
	position: fixed;
	bottom: 32px;
	display: flex;
	justify-content: center;
	align-items: center;
	width: 100%;
}
</style>

<script>
import ReferenceSearch from 'component/ReferenceSearch.html'

export default {
	oncreate() {
		this.removeNavigationProvider = this.get('mediator').provideSync(
			'show navigation input',
			currentBookId => {
				this.set({
					showReferenceSearch: true,
					currentBookId,
				})
			}
		)
	},
	ondestroy() {
		this.removeNavigationProvider()
	},
	data() {
		return {
			showReferenceSearch: false
		}
	},
	components: {
		ReferenceSearch
	}
}
</script>
